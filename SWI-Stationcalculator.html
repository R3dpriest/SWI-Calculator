<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Station Calculator v1.0</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }
        th {
			writing-mode: vertical-lr;
			transform: rotate(180deg);
			height: 150px;
			overflow: hidden;
			white-space: nowrap;
        }
		input[type="number"] {
			width: 50px;
		}
		table tr:first-child th:nth-child(-n+4) {
			background-color: #c6c6c6;
		}
		table tbody tr:first-child th:nth-child(5), th:nth-child(6), th:nth-child(7), th:nth-child(8){
			background-color: #bf7839;
		}
		table tbody tr:first-child th:nth-child(9), th:nth-child(10), th:nth-child(11){
			background-color: lightblue;
			
		}
		table tbody tr:first-child th:nth-child(12){
			background-color: #caade6;
			
		}
		table tr:first-child th:nth-child(n+13) {
			background-color: #c6c6c6;
		}
		table td:nth-child(-n+3) {
			background-color: #f0f0f0;
		}
		table td:nth-child(4), table td:nth-child(5), table td:nth-child(6), table td:nth-child(7) {
			background-color: #df924d;
		}

		table td:nth-child(8), table td:nth-child(9), table td:nth-child(10) {
			background-color: #cce4ec;
		}
		table td:nth-child(11) {
			background-color: #e8ccec;
		}
		table td:nth-child(n+12) {
			background-color: #f0f0f0;
		}
		.grid-container {
            display: grid;
            grid-template-areas: 
                "Gr-item1 Gr-item1 Gr-item1 Gr-item2 Gr-item2 Gr-item2"
                "Gr-item3 Gr-item3 Gr-item3 Gr-item3 Gr-item3 Gr-item3"
                "Gr-item4 Gr-item5 Gr-item6 Gr-item11 Gr-item12 Gr-item13"
				"Gr-item4 Gr-item7 Gr-item8 Gr-item14 Gr-item14 Gr-item14"
				"Gr-item4 Gr-item9 Gr-item10 Gr-item14 Gr-item14 Gr-item14";
            grid-template-columns: 150px 150px 3fr 4fr 150px 150px;
            grid-template-rows: auto;
        }
        .Gr-item1 { grid-area: Gr-item1;}
        .Gr-item2 { grid-area: Gr-item2;}
        .Gr-item3 { grid-area: Gr-item3;}
        .Gr-item4 { grid-area: Gr-item4; padding: 2px;}
        .Gr-item5 { grid-area: Gr-item5; padding: 2px;}
        .Gr-item6 { grid-area: Gr-item6; padding: 2px;}
        .Gr-item7 { grid-area: Gr-item7; padding: 2px;}
        .Gr-item8 { grid-area: Gr-item8; padding: 2px;}
        .Gr-item9 { grid-area: Gr-item9; padding: 2px;}
        .Gr-item10 { grid-area: Gr-item10; padding: 2px;}
        .Gr-item11 { grid-area: Gr-item11; padding: 2px;}
        .Gr-item12 { grid-area: Gr-item12; padding: 2px;}
        .Gr-item13 { grid-area: Gr-item13; padding: 2px;}
        .Gr-item14 { grid-area: Gr-item14; padding: 2px;}
		
		.calcbut {
            width: 100%; height: 100%; background: linear-gradient(to bottom, #d3d3d3, #a9a9a9); /* Light gray to slightly darker gray */
            color: black;
            border: none;
            border-radius: 5px;
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            text-shadow: 0 0 2px white; /* White border effect for text */
            box-shadow: inset 0 0 5px #888; /* Adds a subtle inset shadow for depth */
            cursor: pointer;
        }
        .calcbut:hover {
            background: linear-gradient(to bottom, #c0c0c0, #888888); /* Slightly changes gradient on hover */
        }
		.InpStr{width: 80%;}
    </style>
</head>
<script>
	function Save() {
		const inputElements = document.querySelectorAll("input[type='number']");
		const extraFields = ["ExtrOpt1", "ExtrOpt2", "ExtrOpt3"];
		const numberValues = Array.from(inputElements).map(input => input.value || "0");
		const extraValues = extraFields.map(id => document.getElementById(id)?.value || "0");
		const allValues = [...numberValues, ...extraValues];
		const uniqueString = btoa(allValues.join(",")); // Encode as a base64 string
		document.getElementById("StringID").value = uniqueString; // Save to text input field
	}

	function Load() {
		const uniqueString = document.getElementById("StringID").value;
		try {
			const decodedValues = atob(uniqueString).split(",");
			const inputElements = document.querySelectorAll("input[type='number']");
			const extraFields = ["ExtrOpt1", "ExtrOpt2", "ExtrOpt3"];
			Array.from(inputElements).forEach((input, index) => {
				input.value = decodedValues[index] || "0";
			});
			extraFields.forEach((id, index) => {
				const fieldIndex = inputElements.length + index; // Offset for additional fields
				const field = document.getElementById(id);
				if (field) {
					field.value = decodedValues[fieldIndex] || "0";
				}
			});
			CalcOpt();
		} catch (e) {
			alert("Invalid... Sorry");
		}
	}

	// If you want you can uplug one of the options. 
	function CalcOpt() {
            CalcModules(); // calculate just the module
            CalcStation(); // calculate just the station
        }

        // Math for modules
        function CalcModules() {
            modules.forEach(module => {
                const multiplier = parseFloat(document.getElementById(`moduleInput_${module.name}`).value) || 0;

                // Update input and output values based on input, i also decidedd to add a simple color change if the value is negative.
                if (module.resource1) {
                    document.getElementById(`input_${module.name}_res${module.resource1}`).textContent = Math.floor(module.volume1 * multiplier);
					if(module.volume1 * multiplier < 0){
						document.getElementById(`input_${module.name}_res${module.resource1}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource1}`).style.cssText = '';
					}
                }
                if (module.resource2) {
                    document.getElementById(`input_${module.name}_res${module.resource2}`).textContent = Math.floor(module.volume2 * multiplier);
					if(module.volume2 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource2}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource2}`).style.cssText = '';
					}
                }
                if (module.resource3) {
                    document.getElementById(`input_${module.name}_res${module.resource3}`).textContent = Math.floor(module.volume3 * multiplier);
					if(module.volume3 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource3}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource3}`).style.cssText = ' ';
					}
                }
				if (module.resource4) {
                    document.getElementById(`input_${module.name}_res${module.resource4}`).textContent = Math.floor(module.volume4 * multiplier);
					if(module.volume4 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource4}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource4}`).style.cssText = ' ';
					}
                }
				if (module.resource5) {
                    document.getElementById(`input_${module.name}_res${module.resource5}`).textContent = Math.floor(module.volume5 * multiplier);
					if(module.volume5 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource5}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource5}`).style.cssText = ' ';
					}
                }
                if (module.outputResource) {
					if(module.outputResource == 1){
						const ExtrOpt1 = document.getElementById("ExtrOpt1").value;
						document.getElementById(`output_${module.name}_res${module.outputResource}`).textContent = (module.outputVolume * multiplier / 100) * ExtrOpt1;
						if(module.outputVolume * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource}`).style.cssText = '';
						}
					} else {
						document.getElementById(`output_${module.name}_res${module.outputResource}`).textContent = module.outputVolume * multiplier;
						if(module.outputVolume * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource}`).style.cssText = '';
						}
					}
					
                }
            });
        }

        // Math station
        function CalcStation() {
            const totals = {};
			const ExtrOpt1 = document.getElementById("ExtrOpt1").value;
            resources.forEach(resource => {
                totals[resource.id] = 0;
            });

            // Loop through modules and calculate total resource usage/production
            modules.forEach(module => {
                const multiplier = parseFloat(document.getElementById(`moduleInput_${module.name}`).value) || 0;
				if(module.outputResource == 1){}
                totals[module.resource1] += module.volume1 * multiplier;
                totals[module.resource2] += module.volume2 * multiplier;
                totals[module.resource3] += module.volume3 * multiplier;
				totals[module.resource4] += module.volume4 * multiplier;
				totals[module.resource5] += module.volume5 * multiplier;
				if(module.outputResource == 1){
					totals[module.outputResource] += (module.outputVolume * multiplier / 100) * ExtrOpt1;
				} else {
					totals[module.outputResource] += module.outputVolume * multiplier;
				}
            });

            // Update the total row in the table and gives it color
            resources.forEach(resource => {
				if(totals[resource.id] < 0){
					document.getElementById(`total_${resource.id}`).style.cssText = 'color: red; font-weight: bold;';
				} else {
					document.getElementById(`total_${resource.id}`).style.cssText = 'color: green; font-weight: bold;';
				}
                document.getElementById(`total_${resource.id}`).textContent = Math.floor(totals[resource.id]);
            });
        }
		
		// All the resources i know off (found the sith ones later...)
                const resources = [
                    { id: 1, name: "Energy Cells" },
					{ id: 2, name: "Ice" },
                    { id: 3, name: "Ore" },
                    { id: 4, name: "Silicon" },
                    { id: 5, name: "Rhydonium" },
                    { id: 6, name: "Helium" },
                    { id: 7, name: "Methane" },
                    { id: 8, name: "Tibana" },
                    { id: 9, name: "Population" },
                    { id: 10, name: "Advanced Composites" },
                    { id: 11, name: "Advanced Electronics" },
                    { id: 12, name: "Agricultural Goods" },
                    { id: 13, name: "Antimatter Converter" },
                    { id: 14, name: "Capacitor" },
					{ id: 15, name: "Droid Parts" },
					{ id: 16, name: "Durasteel Plates" },
                    { id: 17, name: "Engine Parts" },
                    { id: 18, name: "Field Coils" },
                    { id: 19, name: "Food Rations" },
                    { id: 20, name: "Graphene" },
              /*	{ id: 21, name: "Ice" },
					{ id: 22, name: "Plasma conductor" }, duplicate - noticed it to late. To lazy to renumber everything */
                    { id: 23, name: "Meat" },
					{ id: 24, name: "Microchip"},
					{ id: 25, name: "Medical Supplies" },
					{ id: 26, name: "Missile comp" },
					{ id: 27, name: "Module PreFab" },
					{ id: 28, name: "Plasma Conductors" },
					{ id: 29, name: "Raw Scrap" },
					{ id: 30, name: "Refined Metals" },
					{ id: 31, name: "Rhydonium Core" },
					{ id: 32, name: "Scrap Metal" },
					{ id: 33, name: "Sensor Comp" },
					{ id: 34, name: "Shield Comp" },
					{ id: 35, name: "Ship Supplies" },
					{ id: 36, name: "Silicon Wafers"},
					{ id: 37, name: "Smart Chips"},
					{ id: 38, name: "Spices"},
					{ id: 39, name: "Superfluid Coolant"},
					{ id: 40, name: "Tibanna Cells"},
					{ id: 41, name: "Turret Comp"},
					{ id: 42, name: "Water"},
					{ id: 43, name: "Weapon Comp"},
					{ id: 44, name: "Bacta Solution (s)"},
					{ id: 45, name: "Cloning Vats (s)"},
					{ id: 46, name: "Dark Fusion Cell (s)"},
					{ id: 47, name: "Fibersteel (s)"},
					{ id: 48, name: "Obsidian Composite (s)"}
                ];
				// Plug in the resources produced and used here.
            const modules = [
				{
                    name: "Population",
                    inputMultiplier: 0,
                    resource1: 19,
                    volume1: -2.25,
                    resource2: 25,
					volume2: -1.35,
                    outputResource: 9,
                    outputVolume: 1
                },
				{
                    name: "Population (S)",
                    inputMultiplier: 0,
                    resource1: 45,
                    volume1: -1.65,
                    outputResource: 9,
                    outputVolume: 1
                },
                {
                    name: "Advanced Composites",
                    inputMultiplier: 0,  // The default # of modules to display.
                    resource1: 1,         // Use the ID here from the SWI resources we added before.
                    volume1: -1800,       // The hourly value
                    resource2: 20,         // Use the ID here from the SWI resources we added before.
                    volume2: -2880,      // The hourly value
                    resource3: 30,        // Use the ID here from the SWI resources we added before.
                    volume3: -2880,          // The hourly value
                    outputResource: 10,    // Use the ID here from the SWI resources we added before.
                    outputVolume: 1944    // The hourly value
                },
                {
                    name: "Advanced Electronics",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -900,
                    resource2: 24,
                    volume2: -660,
                    resource3: 14,
                    volume3: -300,
                    outputResource: 11,
                    outputVolume: 810
                },
				{
                    name: "Agricultural Goods",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -2160,
                    resource2: 42,
                    volume2: -2880,
                    outputResource: 12,
                    outputVolume: 11160
                },
				{
                    name: "Antimatter Converter",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -2880,
                    resource2: 10,
                    volume2: -720,
                    resource3: 24,
                    volume3: -1080,
                    outputResource: 13,
                    outputVolume: 4788
                },
				{
                    name: "Capacitor",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1410,
                    resource2: 20,
                    volume2: -1740,
                    resource3: 39,
                    volume3: -450,
                    outputResource: 14,
                    outputVolume: 1410
                },
				{
                    name: "Droid Parts",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -540,
                    resource2: 17,
                    volume2: -180,
                    resource3: 16,
                    volume3: -180,
					resource4: 24,
                    volume4: -180,
					resource5: 33,
                    volume5: -360,
                    outputResource: 15,
                    outputVolume: 945
                },
				{
                    name: "Durasteel Plates",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -640,
                    resource2: 20,
                    volume2: -480,
                    resource3: 30,
                    volume3: -3360,
                    outputResource: 16,
                    outputVolume: 3528
                },
				{
                    name: "Energy Cell",
                    inputMultiplier: 0,
                    outputResource: 1,
                    outputVolume: 31500
                },
				{
                    name: "Energy Cell(imp)",
                    inputMultiplier: 0,
                    outputResource: 1,
                    outputVolume: 24000
                },				
				{
                    name: "Engine Parts",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -720,
                    resource2: 40,
                    volume2: -1680,
                    resource3: 30,
                    volume3: -1152,
                    outputResource: 17,
                    outputVolume: 2496
                },				
				{
                    name: "Field coil",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1080,
                    resource2: 28,
                    volume2: -720,
                    resource3: 14,
                    volume3: -774,
                    outputResource: 18,
                    outputVolume: 3150
                },				
				{
                    name: "Food Ration",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -4500,
                    resource2: 12,
                    volume2: -2250,
                    resource3: 23,
                    volume3: -2250,
					resource4: 38,
                    volume4: -2250,
                    outputResource: 19,
                    outputVolume: 20700
                },				
				{
                    name: "Graphene",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -2400,
                    resource2: 7,
                    volume2: -14400,
                    outputResource: 20,
                    outputVolume: 4320
                },				
				{
                    name: "Meat",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1920,
                    resource2: 42,
                    volume2: -2400,
                    outputResource: 23,
                    outputVolume: 6960
                },
				{
                    name: "Medical Supplies",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -3600,
                    resource2: 38,
                    volume2: -1440,
					resource3: 42,
                    volume3: -2160,
                    resource4: 12,
                    volume4: -1080,
                    outputResource: 23,
                    outputVolume: 6960
                },				
				{
                    name: "Microchip",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -900,
                    resource2: 36,
                    volume2: -3600,
                    outputResource: 24,
                    outputVolume: 1296
                },				
				{
                    name: "Missile Comp",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -240,
                    resource2: 16,
                    volume2: -24,
                    resource3: 10,
                    volume3: -24,
                    outputResource: 25,
                    outputVolume: 3372
                },				
				{
                    name: "Module Prefab",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1680,
                    resource2: 24,
                    volume2: -1920,
                    resource3: 14,
                    volume3: -1200,
					resource4: 28,
                    volume4: -600,
                    outputResource: 26,
                    outputVolume: 1296
                },				
				{
                    name: "Plasma Conductors",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -720,
                    resource2: 20,
                    volume2: -1152,
                    resource3: 39,
                    volume3: -1680,
                    outputResource: 28,
                    outputVolume: 528
                },
				{
                    name: "Refined Metal",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -6336,
                    resource2: 3,
                    volume2: -17280,
                    outputResource: 29,
                    outputVolume: 6336
                },			
				{
                    name: "Rhydonium Refinery",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -18000,
                    resource2: 5,
                    volume2: -4050,
                    outputResource: 31,
                    outputVolume: 135
                },
				{
                    name: "Scrap Processor",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -90000,
                    resource2: 29,
                    volume2: -9000,
                    outputResource: 32,
                    outputVolume: 9000
                },
				{
                    name: "Scrap Recycler",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -55000,
                    resource2: 32,
                    volume2: -2250,
                    resource3: 16,
                    volume3: 900,
                    outputResource: 26,
                    outputVolume: 460
                },
				{
                    name: "Sensor Comp",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1080,
                    resource2: 29,
                    volume2: -1800,
                    resource3: 36,
                    volume3: -1080,
                    outputResource: 33,
                    outputVolume: 648
                },
				{
                    name: "Shield Comp",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -630,
                    resource2: 14,
                    volume2: -180,
                    resource3: 28,
                    volume3: -180,
                    outputResource: 34,
                    outputVolume: 1737
                },
				{
                    name: "Ship Supplies",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -0,
                    resource2: 30,
                    volume2: -900,
                    resource3: 42,
                    volume3: -900,
					resource4: 25,
                    volume4: -1800,
					resource4: 19,
                    volume4: -2700,
                    outputResource: 35,
                    outputVolume: 360
                },
				{
                    name: "Silicon Wafers",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -5400,
                    resource2: 4,
                    volume2: -14400,
                    outputResource: 36,
                    outputVolume: 6420
                },
				{
                    name: "Smart Chip",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -900,
                    resource2: 36,
                    volume2: -360,
                    outputResource: 37,
                    outputVolume: 2574
                },
				{
                    name: "Spices",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -720,
                    resource2: 42,
                    volume2: -1440,
                    outputResource: 38,
                    outputVolume: 9000
                },
				{
                    name: "Superfluid Coolant",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -2700,
                    resource2: 6,
                    volume2: -14400,
                    outputResource: 39,
                    outputVolume: 0
                },
				{
                    name: "Tibinna Refinery",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -9000,
                    resource2: 8,
                    volume2: -28800,
                    outputResource: 40,
                    outputVolume: 9000
                },
				{
                    name: "Turret Comp.",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -240,
                    resource2: 40,
                    volume2: -90,
                    resource3: 24,
                    volume3: -80,
					resource4: 14,
                    volume4: -80,
					resource5: 33,
                    volume5: -60,
                    outputResource: 41,
                    outputVolume: 820
                },				
				{
                    name: "Water",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -5400,
                    resource2: 2,
                    volume2: -28800,
                    outputResource: 42,
                    outputVolume: 17370
                },			
				{
                    name: "Weapon Comp",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -360,
                    resource2: 16,
                    volume2: -120,
                    resource3: 40,
                    volume3: -360,
                    outputResource: 43,
                    outputVolume: 1020
                },			
				{
                    name: "Bacta Solution (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1920,
                    resource2: 2,
                    volume2: -1920,
                    resource3: 7,
                    volume3: -4800,
                    outputResource: 44,
                    outputVolume: 5280
                },								
				{
                    name: "Cloning Vats (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -1800,
                    resource2: 44,
                    volume2: -1800,
                    outputResource: 45,
                    outputVolume: 1725
                },				
				{
                    name: "Dark Fusion Cell (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -48000,
                    resource2: 8,
                    volume2: -24000,
                    resource3: 3,
                    volume3: -36000,
					resource4: 4,
                    volume4: -36000,
                    outputResource: 46,
                    outputVolume: 1200
                },				
				{
                    name: "Ship Supplies (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -7200,
                    resource2: 47,
                    volume2: -1440,
                    resource3: 44,
                    volume3: -1728,
                    outputResource: 35,
                    outputVolume: 1728
                },				
				{
                    name: "Fibresteel (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -2000,
                    resource2: 6,
                    volume2: -5200,
                    resource3: 3,
                    volume3: -2000,
                    outputResource: 47,
                    outputVolume: 8000
                },				
				{
                    name: "Obsidian Composite (s)",
                    inputMultiplier: 0,
                    resource1: 1,
                    volume1: -4800,
                    resource2: 47,
                    volume2: -48,
                    resource3: 7,
                    volume3: -9600,
					resource4: 4,
                    volume4: -7200,
                    outputResource: 48,
                    outputVolume: 1200
                }
            ];
				
</script>
<body>
<div class="grid-container">
	<div class="Gr-item1"><h1>Station calculator</h1></div><div class="Gr-item2"><h1>V1.1<h1></div>
    <div class="Gr-item3"><table id="managementTable">
        <tr>
            <th>Building Name</th>
            <th>Input</th>
            <script>document.write(resources.map(r => `<th>${r.name}</th>`).join(""));</script>
        </tr>
        <script>
		// the option that generates the table WITHOUT the default module values.
		modules.forEach(module => {
			document.write(`
				<tr>
					<td>${module.name}</td>
					<td><input type="number" id="moduleInput_${module.name}" value="${module.inputMultiplier}"></td>
					${resources.map(resource => {
						if (resource.id === module.resource1) {
							return `<td id="input_${module.name}_res${resource.id}">0</td>`;
						} else if (resource.id === module.resource2) {
							return `<td id="input_${module.name}_res${resource.id}">0</td>`;
						} else if (resource.id === module.resource3) {
							return `<td id="input_${module.name}_res${resource.id}">0</td>`;
						} else if (resource.id === module.resource4) {
							return `<td id="input_${module.name}_res${resource.id}">0</td>`;
						} else if (resource.id === module.resource5) {
							return `<td id="input_${module.name}_res${resource.id}">0</td>`;
						} else if (resource.id === module.outputResource) {
							return `<td id="output_${module.name}_res${resource.id}">0</td>`;
						}
							return `<td id="empty_${module.name}_res${resource.id}"></td>`;
					}).join("")}
				</tr>
			`);
		});
		document.write(`
			<tr>
			<td><strong>Total</strong></td><td></td>
				${resources.map(r => `<td id="total_${r.id}">0</td>`).join("")}
			</tr>
            `);
        </script>
    </table>
	</div>
	<div class="Gr-item4"><button class="calcbut" onclick="CalcOpt()">Calculate my station</button></div>
	<div class="Gr-item5">Sunlight (%):</div><div class="Gr-item6"><input class="InpStr" type="text" id="ExtrOpt1" placeholder="Not functional" value="100"></div>
	<div class="Gr-item7">Option:</div><div class="Gr-item8"><input class="InpStr" type="text" id="ExtrOpt2" placeholder="Not functional" value="Not used! Placeholder"></div>
	<div class="Gr-item9">Option:</div><div class="Gr-item10"><input class="InpStr" type="text" id="ExtrOpt3" placeholder="Not functional" value="Not used! Placeholder"></div>
	<div class="Gr-item11"><label for="StringID">Store:</label><input class="InpStr" type="text" id="StringID" placeholder="Unique string here"></div>
    <div class="Gr-item12"><button class="calcbut" onclick="Save()">Export</button></div><div class="Gr-item13"><button class="calcbut" onclick="Load()">Import</button></div>
	<div class="Gr-item14"><u>Population</u>: Every population roughly uses food 2,25 and 1.35 Meds. Sith use 1,65 cloning vats. I do the math, then round down the number so you always get enough.<br>
	<u>Effeciency</u>: This applies to every module. Since i would not mess with number of modules it felt moot to implement it.<br>
	<u>Resources</u>: The calculation is done assuming the station is fed the maximum resources it can handle. (this makes scrap a bit in accurate)<br>
	<u><b>IMPORTANT</b></u> This calculator is written entirely in javascript and html since i have no acces to the database by the discord user <u>redisia</u>. I made it from scratch, :) So notes or comments... you know where to find me.</div>
</div>
</body>
</html>