<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Station Calculator v1.04</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }
        th {
			writing-mode: vertical-lr;
			transform: rotate(180deg);
			height: 150px;
			overflow: hidden;
			white-space: nowrap;
        }
		input[type="number"] {
			width: 50px;
		}
		
		.R-Solid{background-color: #fbba82;}
		.R-Solid-m{background-color: #ffdec1!IMPORTANT;}
		.R-Liquid{background-color: #aad4e1;}
		.R-Liquid-m{background-color: #e3f5fb!IMPORTANT;}
		.R-Pop{background-color: #caade6;}
		.R-Pop-m{background-color: #ebe0f5!IMPORTANT;}
		.R-General{background-color: #c8c8c8;}
		.R-General-m{background-color: #e1e1e1!IMPORTANT;}
		.R-Sith{background-color: #ff9b9b;}
		.R-Sith-m{background-color: #f5cccc!IMPORTANT;}

		.M-T1{background-color: #F0FFF0;}
		.M-T2{background-color: #CCFFFF;}
		.M-T3{background-color: #E6CCFF;}
		.Options-Container {
			display: grid;
			grid-template-areas:
				"Gr-Opt-Ba Gr-Opt-Ba Gr-Opt-Ba Gr-Opt-Ba Gr-Opt-Ba  Gr-Opt-Ba"
				"Gr-Opt-Co Gr-Opt-C1 Gr-Opt-C2 Gr-Opt-C3 Gr-Opt-So Gr-Opt-Li"
				"Gr-Opt-Ro Gr-Opt-R1 Gr-Opt-R2 Gr-Opt-R3 . .  "
				"Gr-Opt-Eo Gr-Opt-Po Gr-Opt-Si . . .";
			grid-template-columns: 100px 100px 100px 100px 100px 100px;
			grid-template-rows: 1fr 1fr 1fr;
			background: linear-gradient(to bottom, #d3d3d3, #a9a9a9);
			border-radius: 5px;
			padding-left: 3px;
			margin-bottom: 3px;
			width: 605px;
			border: 1px solid #ffd700;
			box-shadow: 0 0 3px rgba(255, 193, 7, 0.4), 0 0 3px rgba(255, 152, 0, 0.3);
		}  
		.Gr-Opt-Ba { grid-area: Gr-Opt-Ba;}
		.Gr-Opt-Ro { grid-area: Gr-Opt-Ro;}
		.Gr-Opt-Co { grid-area: Gr-Opt-Co;}
		.Gr-Opt-C1 { grid-area: Gr-Opt-C1;}
		.Gr-Opt-C2 { grid-area: Gr-Opt-C2;}
		.Gr-Opt-C3 { grid-area: Gr-Opt-C3;}
		.Gr-Opt-R1 { grid-area: Gr-Opt-R1;}
		.Gr-Opt-R2 { grid-area: Gr-Opt-R2;}
		.Gr-Opt-R3 { grid-area: Gr-Opt-R3;}
		.Gr-Opt-Po { grid-area: Gr-Opt-Po;}
		.Gr-Opt-So { grid-area: Gr-Opt-So;}
		.Gr-Opt-Li { grid-area: Gr-Opt-Li;}
		.Gr-Opt-Si { grid-area: Gr-Opt-Si;}
		.Gr-Opt-Eo { grid-area: Gr-Opt-Eo;}
		@media (min-width: 801px) {
			.Calc-Container {
				display: grid;
				grid-template-areas: 
					"Gr-item1 Gr-item1 Gr-item1 Gr-item2 Gr-item2 Gr-item2"
					"Gr-item3 Gr-item3 Gr-item3 Gr-item3 Gr-item3 Gr-item3"
					"Gr-item4 Gr-item5 Gr-item6 Gr-item11 Gr-item12 Gr-item13"
					"Gr-item4 Gr-item7 Gr-item8 Gr-item14 Gr-item14 Gr-item14"
					"Gr-item4 Gr-item9 Gr-item10 Gr-item14 Gr-item14 Gr-item14";
				grid-template-columns: 150px 150px 3fr 4fr 150px 150px;
				grid-template-rows: auto;
			}
		}
		@media (max-width: 800px) {
			.Calc-Container {
				display: grid;
				grid-template-areas: 
					"Gr-item1 Gr-item1 Gr-item2"
					"Gr-item3 Gr-item3 Gr-item3"
					"Gr-item5 Gr-item6 Gr-item6"
					"Gr-item7 Gr-item8 Gr-item8"
					"Gr-item9 Gr-item10 Gr-item10"
					"Gr-item11 Gr-item11 Gr-item11"
					". Gr-item12 Gr-item13"
					"Gr-item4 Gr-item4 Gr-item4"
					"Gr-item14 Gr-item14 Gr-item14";
				grid-template-columns: 1fr 1fr 1fr;
				grid-template-rows: auto;
			}
		}
        .Gr-item1 { grid-area: Gr-item1;}
        .Gr-item2 { grid-area: Gr-item2;}
        .Gr-item3 { grid-area: Gr-item3;}
        .Gr-item4 { grid-area: Gr-item4; padding: 2px;}
        .Gr-item5 { grid-area: Gr-item5; padding: 2px;}
        .Gr-item6 { grid-area: Gr-item6; padding: 2px;}
        .Gr-item7 { grid-area: Gr-item7; padding: 2px;}
        .Gr-item8 { grid-area: Gr-item8; padding: 2px;}
        .Gr-item9 { grid-area: Gr-item9; padding: 2px;}
        .Gr-item10 { grid-area: Gr-item10; padding: 2px;}
        .Gr-item11 { grid-area: Gr-item11; padding: 2px;}
        .Gr-item12 { grid-area: Gr-item12; padding: 2px;}
        .Gr-item13 { grid-area: Gr-item13; padding: 2px;}
        .Gr-item14 { grid-area: Gr-item14; padding: 2px;}
		
		.calcbut {
            width: 100%; height: 100%; background: linear-gradient(to bottom, #d3d3d3, #a9a9a9); /* Light gray to slightly darker gray */
            color: black;
            border: none;
            border-radius: 5px;
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            text-shadow: 0 0 2px white; /* White border effect for text */
            box-shadow: inset 0 0 5px #888; /* Adds a subtle inset shadow for depth */
            cursor: pointer;
        }
        .calcbut:hover {
            background: linear-gradient(to bottom, #c0c0c0, #888888); /* Slightly changes gradient on hover */
        }
		.InpStr{width: 80%;}
    </style>
</head>
<script>
	//globals
	var TotPop = 0;
	let PosiPop = 0;
	let NegaPop = 0; 
	var EfRes = 0;
	let IM = 0;

	//thanks to stackexchange and copilot for the save and load inspiration :)
	function Save() {
    const inputElements = document.querySelectorAll("input[type='number']");
    const extraFields = ["ExtrOpt1", "ExtrOpt2", "ExtrOpt3"];
    
    const numberValues = Array.from(inputElements).map(input => input.value || "0");
    const extraValues = extraFields.map(id => {
        const field = document.getElementById(id);
        if (id === "ExtrOpt2" && field?.type === "checkbox") {
            return field.checked ? "1" : "0";
        }
        return field?.value || "0";
    });

    const allValues = [...numberValues, ...extraValues];
    const uniqueString = btoa(allValues.join(",")); // Encode as a base64 string
    document.getElementById("StringID").value = uniqueString; // Save to text input field
}

function Load() {
    const uniqueString = document.getElementById("StringID").value;
    try {
        const decodedValues = atob(uniqueString).split(",");
        const inputElements = document.querySelectorAll("input[type='number']");
        const extraFields = ["ExtrOpt1", "ExtrOpt2", "ExtrOpt3"];
        
        Array.from(inputElements).forEach((input, index) => {
            input.value = decodedValues[index] || "0";
        });

        extraFields.forEach((id, index) => {
            const fieldIndex = inputElements.length + index; // Offset for additional fields
            const field = document.getElementById(id);
            if (field) {
                if (id === "ExtrOpt2" && field.type === "checkbox") {
                    field.checked = decodedValues[fieldIndex] === "1"; // Set checkbox state
                } else {
                    field.value = decodedValues[fieldIndex] || "0";
                }
            }
        });

        CalcOpt();
    } catch (e) {
        alert("Invalid... Sorry");
    }
}

	// If you want you can uplug one of the options. 
	function CalcOpt() {
			checkpop(); // Needed for effeciency
            CalcModules(); // calculate just the module
            CalcStation(); // calculate just the station
        }
		
	function checkpop(){
		TotPop = 0;
		PosiPop = 0;
		NegaPop = 0; 
		resources.forEach(resource => {
			TotPop[resource.id] = 0;
			PosiPop[resource.id] = 0;
			NegaPop[resource.id] = 0;
		});
		modules.forEach(module => { 
			const multiplier = parseFloat(document.getElementById(`moduleInput_${module.name}`).value) || 0;
			const calculatedValue = module.Population * multiplier;
			TotPop[module.Population] += calculatedValue;
			if (calculatedValue > 0) {
				PosiPop += calculatedValue;
			} else if (calculatedValue < 0) {
				NegaPop += calculatedValue;
			}
		});
		NegaPop = String(NegaPop).replace("-", "");
		NegaPop = Number(NegaPop);
	}
        // Math for modules
        function CalcModules() {
            modules.forEach(module => {
                const multiplier = parseFloat(document.getElementById(`moduleInput_${module.name}`).value) || 0;
                // Update input and output values based on input, i also decidedd to add a simple color change if the value is negative.
                if (module.resource1) {
                    document.getElementById(`input_${module.name}_res${module.resource1}`).textContent = Math.floor(module.volume1 * multiplier);
					if(module.volume1 * multiplier < 0){
						document.getElementById(`input_${module.name}_res${module.resource1}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource1}`).style.cssText = '';
					}
                }
                if (module.resource2) {
                    document.getElementById(`input_${module.name}_res${module.resource2}`).textContent = Math.floor(module.volume2 * multiplier);
					if(module.volume2 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource2}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource2}`).style.cssText = '';
					}
                }
                if (module.resource3) {
                    document.getElementById(`input_${module.name}_res${module.resource3}`).textContent = Math.floor(module.volume3 * multiplier);
					if(module.volume3 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource3}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource3}`).style.cssText = ' ';
					}
                }
				if (module.resource4) {
                    document.getElementById(`input_${module.name}_res${module.resource4}`).textContent = Math.floor(module.volume4 * multiplier);
					if(module.volume4 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource4}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource4}`).style.cssText = ' ';
					}
                }
				if (module.resource5) {
                    document.getElementById(`input_${module.name}_res${module.resource5}`).textContent = Math.floor(module.volume5 * multiplier);
					if(module.volume5 * multiplier  < 0){
						document.getElementById(`input_${module.name}_res${module.resource5}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`input_${module.name}_res${module.resource5}`).style.cssText = ' ';
					}
                }
				if (module.Race) {
                    document.getElementById(`output_${module.name}_res${module.Race}`).textContent = Math.floor(module.Population * multiplier);
					if(module.Population * multiplier  < 0){
						document.getElementById(`output_${module.name}_res${module.Race}`).style.cssText = 'color: red;';
					} else {
						document.getElementById(`output_${module.name}_res${module.Race}`).style.cssText = ' ';
					}
                }
                if (module.outputResource1) {
					if(document.getElementById('ExtrOpt2').checked){
					if(multiplier == 0){
						EfRes = 0; 
					} else { 
						if(NegaPop < PosiPop){
							PosiPop = NegaPop;
						}
						EfRes = Math.floor(module.outputVolume1 * multiplier * (1 + (PosiPop/NegaPop * module.MaxEffeciency)));
					}					
				} else {
					EfRes = module.outputVolume1 * multiplier ;
				}
					if(module.outputResource1 == 1){
						const ExtrOpt1 = document.getElementById("ExtrOpt1").value;
						document.getElementById(`output_${module.name}_res${module.outputResource1}`).textContent = (EfRes / 100) * ExtrOpt1; //sunlight
						if(module.outputVolume1 * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource1}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource1}`).style.cssText = 'color: green; font-weight: bold;';
						}
					} else {
						document.getElementById(`output_${module.name}_res${module.outputResource1}`).textContent = EfRes;
						if(module.outputVolume1 * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource1}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource1}`).style.cssText = 'color: green; font-weight: bold;';
						}
					}
                }
				if (module.outputResource2) {
					if(document.getElementById('ExtrOpt2').checked){
					if(multiplier == 0){
						EfRes = 0; 
					} else { 
						if(NegaPop < PosiPop){
							PosiPop = NegaPop;
						}
						EfRes = Math.floor(module.outputVolume1 * multiplier * (1 + (PosiPop/NegaPop * module.MaxEffeciency)));
					}					
				} else {
					EfRes = module.outputVolume1 * multiplier ;
				}
					if(module.outputResource2 == 1){
						const ExtrOpt1 = document.getElementById("ExtrOpt1").value;
						document.getElementById(`output_${module.name}_res${module.outputResource2}`).textContent = (EfRes / 100) * ExtrOpt1; //sunlight
						if(module.outputVolume1 * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource2}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource2}`).style.cssText = 'color: green; font-weight: bold;';
						}
					} else {
						document.getElementById(`output_${module.name}_res${module.outputResource2}`).textContent = EfRes;
						if(module.outputVolume1 * multiplier  < 0){
							document.getElementById(`output_${module.name}_res${module.outputResource2}`).style.cssText = 'color: red;';
						} else {
							document.getElementById(`output_${module.name}_res${module.outputResource2}`).style.cssText = 'color: green; font-weight: bold;';
						}
					}
                }
            });
        }

        // Math station
        function CalcStation() {
            const totals = {};
			const ExtrOpt1 = document.getElementById("ExtrOpt1").value;
            resources.forEach(resource => {
                totals[resource.id] = 0;
            });

            modules.forEach(module => {
                const multiplier = parseFloat(document.getElementById(`moduleInput_${module.name}`).value) || 0;
                totals[module.resource1] += module.volume1 * multiplier;
                totals[module.resource2] += module.volume2 * multiplier;
                totals[module.resource3] += module.volume3 * multiplier;
				totals[module.resource4] += module.volume4 * multiplier;
				totals[module.resource5] += module.volume5 * multiplier;
				totals[module.Race] += module.Population * multiplier;
				if(document.getElementById('ExtrOpt2').checked){
					if(multiplier == 0){
						EfRes = 0; 
					} else { 
						if(NegaPop < PosiPop){
							PosiPop = NegaPop;
						}
						EfRes = Math.floor(module.outputVolume1 * multiplier * (1 + (PosiPop/NegaPop * module.MaxEffeciency)));
					}					
				} else {
					EfRes = module.outputVolume1 * multiplier ;
				}
				if(module.outputResource1 == 1){
					totals[module.outputResource1] += (EfRes / 100) * ExtrOpt1;
				} else {
					totals[module.outputResource1] += EfRes;
				}
            });

            // Update the total row in the table and gives it color
            resources.forEach(resource => {
				if(totals[resource.id] < 0){
					document.getElementById(`total_${resource.id}`).style.cssText = 'color: red; font-weight: bold;';
				} else {
					document.getElementById(`total_${resource.id}`).style.cssText = 'color: green; font-weight: bold;';
				}
                document.getElementById(`total_${resource.id}`).textContent = Math.floor(totals[resource.id]);
            });
        }
	
	//Simple hide/display script
	function Display(Elem, Tar, Opt){
	var OptA;
	var ChangeA = document.getElementsByClassName(Elem);
	var ChangeB = document.getElementsByClassName(Elem+"-m");
	if(document.getElementById(Tar).checked){
		for(let i = 0; i < ChangeA.length; i++) {ChangeA[i].removeAttribute('style');}
		for(let i = 0; i < ChangeB.length; i++) {ChangeB[i].removeAttribute('style');}
	} else {
		for(let i = 0; i < ChangeA.length; i++) {ChangeA[i].style.display = 'none';}
		for(let i = 0; i < ChangeB.length; i++) {ChangeB[i].style.display = 'none';}
	}
	}	
	//DATA ~ Resourcess
	const resources = [
		/* [id: is linked with modules] [name: obvious] [Tier & Style are used in CSS classes] */
		{ id: 1, name: "Energy Cells", Tier: "R-T1", style: "R-General" },
		{ id: 2, name: "Ice", Tier: "R-T0", style: "R-Solid" },
		{ id: 3, name: "Ore", Tier: "R-T0", style: "R-Solid" },
		{ id: 4, name: "Silicon", Tier: "R-T0", style: "R-Solid" },
		{ id: 5, name: "Rhydonium", Tier: "R-T0", style: "R-Solid" },
		{ id: 6, name: "Helium", Tier: "R-T0", style: "R-Liquid" },
		{ id: 7, name: "Methane", Tier: "R-T0", style: "R-Liquid" },
		{ id: 8, name: "Tibana", Tier: "R-T0", style: "R-Liquid" },
		{ id: 9, name: "Population", Tier: "R-T0", style: "R-Pop" },
		{ id: 10, name: "Advanced Composites", Tier: "R-T2", style: "R-General" },
		{ id: 11, name: "Advanced Electronics", Tier: "R-T3", style: "R-General" },
		{ id: 12, name: "Agricultural Goods", Tier: "R-T2", style: "R-General" },
		{ id: 13, name: "Antimatter Converter", Tier: "R-T3", style: "R-General" },
		{ id: 14, name: "Capacitor", Tier: "R-T2", style: "R-General" },
		{ id: 15, name: "Droid Parts", Tier: "R-T3", style: "R-General" },
		{ id: 16, name: "Durasteel Plates", Tier: "R-T2", style: "R-General" },
		{ id: 17, name: "Engine Parts", Tier: "R-T2", style: "R-General" },
		{ id: 18, name: "Field Coils", Tier: "R-T3", style: "R-General" },
		{ id: 19, name: "Food Rations", Tier: "R-T3", style: "R-General" },
		{ id: 20, name: "Graphene", Tier: "R-T1", style: "R-General" },
		{ id: 23, name: "Meat", Tier: "R-T2", style: "R-General" },
		{ id: 24, name: "Microchip", Tier: "R-T2", style: "R-General" },
		{ id: 25, name: "Medical Supplies", Tier: "R-T3", style: "R-General" },
		{ id: 26, name: "Missile comp", Tier: "R-T3", style: "R-General" },
		{ id: 27, name: "Module PreFab", Tier: "R-T3", style: "R-General" },
		{ id: 28, name: "Plasma Conductors", Tier: "R-T3", style: "R-General" },
		{ id: 29, name: "Raw Scrap", Tier: "R-T1", style: "R-General" },
		{ id: 30, name: "Refined Metals", Tier: "R-T1", style: "R-General" },
		{ id: 31, name: "Rhydonium Core", Tier: "R-T3", style: "R-General" },
		{ id: 32, name: "Scrap Metal", Tier: "R-T2", style: "R-General" },
		{ id: 33, name: "Sensor Comp", Tier: "R-T2", style: "R-General" },
		{ id: 34, name: "Shield Comp", Tier: "R-T3", style: "R-General" },
		{ id: 35, name: "Ship Supplies", Tier: "R-T3", style: "R-General" },
		{ id: 36, name: "Silicon Wafers", Tier: "R-T1", style: "R-General" },
		{ id: 37, name: "Smart Chips", Tier: "R-T2", style: "R-General" },
		{ id: 38, name: "Spices", Tier: "R-T2", style: "R-General" },
		{ id: 39, name: "Superfluid Coolant", Tier: "R-T1", style: "R-General" },
		{ id: 40, name: "Tibanna Cells", Tier: "R-T1", style: "R-General" },
		{ id: 41, name: "Turret Comp", Tier: "R-T3", style: "R-General" },
		{ id: 42, name: "Water", Tier: "R-T1", style: "R-General" },
		{ id: 43, name: "Weapon Comp", Tier: "R-T3", style: "R-General" },
		{ id: 44, name: "Bacta Solution", Tier: "R-T1", style: "R-Sith" },
		{ id: 45, name: "Cloning Vats", Tier: "R-T3", style: "R-Sith" },
		{ id: 46, name: "Dark Fusion Cell", Tier: "R-T1", style: "R-Sith" },
		{ id: 47, name: "Fibersteel", Tier: "R-T1", style: "R-Sith" },
		{ id: 48, name: "Obsidian Composite", Tier: "R-T2", style: "R-Sith" }
	];

	//DATA ~ Modules
	const modules = [
	{
		name: "Population",
		inputMultiplier: 0,
		resource1: 19,
		volume1: -2.25,
		resource2: 25,
		volume2: -1.35,
		Race: 9, Population: 1,
		Style: "R-Pop-m",
		Tier: "M-T2"
	},
	{
		name: "Population (S)",
		inputMultiplier: 0,
		resource1: 45,
		volume1: -1.65,
		Race: 9, Population: 1,
		Style: "R-Pop-m",
		Tier: "M-T2"
	},
	{
		name: "Advanced Composites",
		inputMultiplier: 0,	//The default # of modules to display. (currently unused)
		resource1: 1,		//This references the resource table.
		volume1: -1800,		//This is the hourly value.
		resource2: 20,		// Use the ID here from the SWI resources we added before.
		volume2: -2880,
		resource3: 30,
		volume3: -2880,
		outputResource1: 10,		//This references the resource table. (Output resources are handled differently)
		outputVolume1: 1944,		//This is the hourly value.
		Race: 9, Population: -315,	//Referemces population (is resource type) & value.
		MaxEffeciency: 0.35,
		Style: "M-Gen",				//References what the resource is (is tied to CSS values)
		Tier: "M-T2"				//References what Tier the resource is (is tied to CSS values)
	},
	{
		name: "Advanced Electronics",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -900,
		resource2: 24,
		volume2: -660,
		resource3: 14,
		volume3: -300,
		outputResource1: 11,
		outputVolume1: 810,
		Race: 9, Population: -540,
		MaxEffeciency: 0.42,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Agricultural Goods",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -2160,
		resource2: 42,
		volume2: -2880,
		outputResource1: 12,
		 outputVolume1: 11160,
		Race: 9, Population: -75,
		MaxEffeciency: 0.28,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Antimatter Converter",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -2880,
		resource2: 10,
		volume2: -720,
		resource3: 24,
		volume3: -1080,
		outputResource1: 13,
		 outputVolume1: 4788,
		Race: 9, Population: -1080,
		MaxEffeciency: 0.39,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Capacitor",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1410,
		resource2: 20,
		volume2: -1740,
		resource3: 39,
		volume3: -450,
		outputResource1: 14,
		outputVolume1: 1410,
		Race: 9, Population: -225,
		MaxEffeciency: 0.53,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Droid Parts",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -540,
		resource2: 17,
		volume2: -180,
		resource3: 16,
		volume3: -180,
		resource4: 24,
		volume4: -180,
		resource5: 33,
		volume5: -360,
		outputResource1: 15,
		outputVolume1: 945,
		Race: 9, Population: -675,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Durasteel Plates",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -640,
		resource2: 20,
		volume2: -480,
		resource3: 30,
		volume3: -3360,
		outputResource1: 16,
		outputVolume1: 3528,
		Race: 9, Population: -270,
		MaxEffeciency: 0.37,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Energy Cell",
		inputMultiplier: 0,
		outputResource1: 1,
		outputVolume1: 31500,
		Race: 9, Population: -90,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T1"
	},
	{
		name: "Energy Cell",
		inputMultiplier: 0,
		outputResource1: 1,
		outputVolume1: 24000,
		Race: 9, Population: -45,
		MaxEffeciency: 0.43,
		Style: "M-Imp",
		Tier: "M-T1"
	},				
	{
		name: "Engine Parts",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -720,
		resource2: 40,
		volume2: -1680,
		resource3: 30,
		volume3: -1152,
		outputResource1: 17,
		outputVolume1: 2496,
		Race: 9, Population: -225,
		MaxEffeciency: 0.47,
		Style: "M-Gen",
		Tier: "M-T2"
	},				
	{
		name: "Field coil",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1080,
		resource2: 28,
		volume2: -720,
		resource3: 14,
		volume3: -774,
		outputResource1: 18,
		outputVolume1: 3150,
		Race: 9, Population: -810,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Food Ration",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -4500,
		resource2: 12,
		volume2: -2250,
		resource3: 23,
		volume3: -2250,
		resource4: 38,
		volume4: -2250,
		outputResource1: 19,
		outputVolume1: 20700,
		Race: 9, Population: -90,
		MaxEffeciency: 0.35,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Graphene",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -2400,
		resource2: 7,
		volume2: -14400,
		outputResource1: 20,
		outputVolume1: 4320,
		Race: 9, Population: -180,
		MaxEffeciency: 0.46,
		Style: "M-Gen",
		Tier: "M-T1"
	},
	{
		name: "Meat",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1920,
		resource2: 42,
		volume2: -2400,
		outputResource1: 23,
		outputVolume1: 6960,
		Race: 9, Population: -75,
		MaxEffeciency: 0.33,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Medical Supplies",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -3600,
		resource2: 38,
		volume2: -1440,
		resource3: 42,
		volume3: -2160,
		resource4: 12,
		volume4: -1080,
		outputResource1: 25,
		outputVolume1: 6960,
		Race: 9, Population: -90,
		MaxEffeciency: 0.28,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Microchip",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -900,
		resource2: 36,
		volume2: -3600,
		outputResource1: 24,
		outputVolume1: 1296,
		Race: 9, Population: -450,
		MaxEffeciency: 0.36,
		Style: "M-Gen",
		Tier: "M-T2"
	},				
	{
		name: "Missile Comp",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -240,
		resource2: 16,
		volume2: -24,
		resource3: 10,
		volume3: -24,
		outputResource1: 26,
		 outputVolume1: 3372,
		Race: 9, Population: -22,
		MaxEffeciency: 0.53,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Module Prefab",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1680,
		resource2: 24,
		volume2: -1920,
		resource3: 14,
		volume3: -1200,
		resource4: 28,
		volume4: -600,
		outputResource1: 27,
		 outputVolume1: 1296,
		Race: 9, Population: -1215,
		MaxEffeciency: 0.34,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Plasma Conductors",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -720,
		resource2: 20,
		volume2: -1152,
		resource3: 39,
		volume3: -1680,
		outputResource1: 28,
		 outputVolume1: 528,
		Race: 9, Population: -225,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Refined Metal",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -6336,
		resource2: 3,
		volume2: -17280,
		outputResource1: 30,
		outputVolume1: 6336,
		Race: 9, Population: -225,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T1"
	},			
	{
		name: "Rhydonium Refinery",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -18000,
		resource2: 5,
		volume2: -4050,
		outputResource1: 31,
		outputVolume1: 135,
		Race: 9, Population: -700,
		MaxEffeciency: 0.40,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Scrap Processor",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -90000,
		resource2: 29,
		volume2: -9000,
		outputResource1: 32,
		outputVolume1: 9000,
		Race: 9, Population: -0,
		MaxEffeciency: 0.00,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Scrap Recycler",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -55000,
		resource2: 32,
		volume2: -2250,
		outputResource1: 16,
		outputVolume1: 900,
		outputResource2: 27,
		outputVolume2: 460,
		Race: 9, Population: -1250,
		MaxEffeciency: 0.00,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Sensor Comp",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1080,
		resource2: 29,
		volume2: -1800,
		resource3: 36,
		volume3: -1080,
		outputResource1: 33,
		 outputVolume1: 648,
		Race: 9, Population: -315,
		MaxEffeciency: 0.38,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Shield Comp",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -630,
		resource2: 14,
		volume2: -180,
		resource3: 28,
		volume3: -180,
		outputResource1: 34,
		outputVolume1: 1737,
		Race: 9, Population: -225,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Ship Supplies",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -0,
		resource2: 30,
		volume2: -900,
		resource3: 42,
		volume3: -900,
		resource4: 25,
		volume4: -1800,
		resource4: 19,
		volume4: -2700,
		outputResource1: 35,
		outputVolume1: 360,
		Race: 9, Population: -100,
		MaxEffeciency: 0.30,
		Style: "M-Gen",
		Tier: "M-T3"
	},
	{
		name: "Silicon Wafers",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -5400,
		resource2: 4,
		volume2: -14400,
		outputResource1: 36,
		outputVolume1: 6420,
		Race: 9, Population: -225,
		MaxEffeciency: 0.37,
		Style: "M-Gen",
		Tier: "M-T2"
	 },
	{
		name: "Smart Chip",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -900,
		resource2: 36,
		volume2: -360,
		outputResource1: 37,
		outputVolume1: 2574,
		Race: 9, Population: -60,
		MaxEffeciency: 0.37,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Spices",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -720,
		resource2: 42,
		volume2: -1440,
		outputResource1: 38,
		outputVolume1: 9000,
		Race: 9, Population: -60,
		MaxEffeciency: 0.40,
		Style: "M-Gen",
		Tier: "M-T2"
	},
	{
		name: "Superfluid Coolant",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -2700,
		resource2: 6,
		volume2: -14400,
		outputResource1: 39,
		outputVolume1: 0,
		Race: 9, Population: -50,
		MaxEffeciency: 0.49,
		Style: "M-Gen",
		Tier: "M-T1"
	},
	{
		name: "Tibinna Refinery",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -9000,
		resource2: 8,
		volume2: -28800,
		outputResource1: 40,
		outputVolume1: 9000,
		Race: 9, Population: -180,
		MaxEffeciency: 0.35,
		Style: "M-Gen",
		Tier: "M-T1"
	 },
	{
		name: "Turret Comp.",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -240,
		resource2: 40,
		volume2: -90,
		resource3: 24,
		volume3: -80,
		resource4: 14,
		volume4: -80,
		resource5: 33,
		volume5: -60,
		outputResource1: 41,
		outputVolume1: 820,
		Race: 9, Population: -225,
		MaxEffeciency: 0.53,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Water",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -5400,
		resource2: 2,
		volume2: -28800,
		outputResource1: 42,
		outputVolume1: 17370,
		Race: 9, Population: -180,
		MaxEffeciency: 0.43,
		Style: "M-Gen",
		Tier: "M-T1"
	},			
	{
		name: "Weapon Comp",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -360,
		resource2: 16,
		volume2: -120,
		resource3: 40,
		volume3: -360,
		outputResource1: 43,
		outputVolume1: 1020,
		Race: 9, Population: -225,
		MaxEffeciency: 0.53,
		Style: "M-Gen",
		Tier: "M-T3"
	},			
	{
		name: "Bacta Solution (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1920,
		resource2: 2,
		volume2: -1920,
		resource3: 7,
		volume3: -4800,
		outputResource1: 44,
		outputVolume1: 5280,
		Race: 9, Population: -180,
		MaxEffeciency: 0.30,
		Style: "M-Gen",
		Tier: "M-T2"
	},								
	{
		name: "Cloning Vats (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -1800,
		resource2: 44,
		volume2: -1800,
		outputResource1: 45,
		outputVolume1: 1725,
		Race: 9, Population: -135,
		MaxEffeciency: 0.42,
		Style: "M-Gen",
		Tier: "M-T3"
	},				
	{
		name: "Dark Fusion Cell (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -48000,
		resource2: 8,
		volume2: -24000,
		resource3: 3,
		volume3: -36000,
		resource4: 4,
		volume4: -36000,
		outputResource1: 46,
		outputVolume1: 1200,
		Race: 9, Population: -1500,
		MaxEffeciency: 0.10,
		Style: "M-Sith",
		Tier: "M-T1"
	},				
	{
		name: "Ship Supplies (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -7200,
		resource2: 47,
		volume2: -1440,
		resource3: 44,
		volume3: -1728,
		outputResource1: 35,
		outputVolume1: 1728,
		Race: 9, Population: -100,
		MaxEffeciency: 0.30,
		Style: "M-Sith",
		Tier: "M-T3"
	},				
	{
		name: "Fibresteel (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -2000,
		resource2: 6,
		volume2: -5200,
		resource3: 3,
		volume3: -2000,
		outputResource1: 47,
		outputVolume1: 8000,
		Race: 9, Population: -120,
		MaxEffeciency: 0.20,
		Style: "M-Sith",
		Tier: "M-T1"
	},				
	{
		name: "Obsidian Composite (s)",
		inputMultiplier: 0,
		resource1: 1,
		volume1: -4800,
		resource2: 47,
		volume2: -48,
		resource3: 7,
		volume3: -9600,
		resource4: 4,
		volume4: -7200,
		outputResource1: 48,
		outputVolume1: 1200,
		Race: 9, Population: -750,
		MaxEffeciency: 0.20,
		Style: "M-Sith",
		Tier: "M-T2"
	}
 ];
				
</script>
<body>
<div class="Calc-Container">
	<div class="Gr-item1"><h1>Station calculator - v1.04</h1></div><div class="Gr-item2">
		<div class="Options-Container">
			<div class="Gr-Opt-Ba">Display options: (Needs work... i know, but somewhat works)</div>
			<div class="Gr-Opt-Co">Resources</div>
			<div class="Gr-Opt-C1"><label for="Gr-Opt-C1" onclick="Display('R-T1', 'Gr-Opt-C1', 'C');">Tier 1:<input type="checkbox" id="Gr-Opt-C1" CHECKED></label></div>
			<div class="Gr-Opt-C2"><label for="Gr-Opt-C2" onclick="Display('R-T2', 'Gr-Opt-C2', 'C');">Tier 2:<input type="checkbox" id="Gr-Opt-C2" CHECKED></label></div>
			<div class="Gr-Opt-C3"><label for="Gr-Opt-C3" onclick="Display('R-T3', 'Gr-Opt-C3', 'C');">Tier 3:<input type="checkbox" id="Gr-Opt-C3" CHECKED></label></div>
			<div class="Gr-Opt-So"><label for="Gr-Opt-So" onclick="Display('R-Solid', 'Gr-Opt-So', 'C');">Solids:<input type="checkbox" id="Gr-Opt-So" CHECKED></label></div>
			<div class="Gr-Opt-Li"><label for="Gr-Opt-Li" onclick="Display('R-Liquid', 'Gr-Opt-Li', 'C');">Liquids:<input type="checkbox" id="Gr-Opt-Li" CHECKED></label></div>
			
			<div class="Gr-Opt-Ro">Modules</div>
			<div class="Gr-Opt-R1"><label for="Gr-Opt-R1" onclick="Display('M-T1', 'Gr-Opt-R1', 'R');">Tier 1:<input type="checkbox" id="Gr-Opt-R1" CHECKED></label></div>
			<div class="Gr-Opt-R2"><label for="Gr-Opt-R2" onclick="Display('M-T2', 'Gr-Opt-R2', 'R');">Tier 2:<input type="checkbox" id="Gr-Opt-R2" CHECKED></label></div>
			<div class="Gr-Opt-R3"><label for="Gr-Opt-R3" onclick="Display('M-T3', 'Gr-Opt-R3', 'R');">Tier 3:<input type="checkbox" id="Gr-Opt-R3" CHECKED></label></div>
			
			<div class="Gr-Opt-Eo">General</div>
			<div class="Gr-Opt-Po"><label for="Gr-Opt-Po" onclick="Display('R-Pop', 'Gr-Opt-Po', 'B');">Population:<input type="checkbox" id="Gr-Opt-Po" CHECKED></label></div>
			<div class="Gr-Opt-Si"><label for="Gr-Opt-Si" onclick="Display('R-Sith', 'Gr-Opt-Si', 'B');">Sith:<input type="checkbox" id="Gr-Opt-Si" CHECKED></label></div>
		</div>
	</div>
    <div class="Gr-item3">
    <table id="managementTable">
        <tr>
            <th class="R-General">Building Name</th>
            <th class="R-General">Input</th>
            <script>
                document.write(resources.map(resource => `<th class="${resource.style} ${resource.Tier}">${resource.name}</th>`).join(""));
            </script>
        </tr>
        <script>
            modules.forEach(module => {
                document.write(`
                    <tr class="${module.Tier} ${module.Style}">
                        <td>${module.name}</td>
                        <td>
                            <input type="number" id="moduleInput_${module.name}" value="${module.inputMultiplier}">
                        </td>
                        ${resources.map(resource => {
                            if (resource.id === module.resource1) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource2) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource3) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource4) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource5) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.outputResource1) {
                                return `<td class="${resource.style}-mo ${resource.Tier} ${module.Tier}" id="output_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.outputResource2) {
                                return `<td class="${resource.style}-mo ${resource.Tier} ${module.Tier}" id="output_${module.name}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.Race) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="output_${module.name}_res${resource.id}">0</td>`;
                            }
                            return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="empty_${module.name}_res${resource.id}"></td>`;
                        }).join("")}
                    </tr>
                `);
            });

            document.write(`
                <tr>
                    <td class="R-General"><b>Total</b></td>
                    <td class="R-General"></td>
                    ${resources.map(resource => `
                        <td class="${resource.style} ${resource.Tier}" id="total_${resource.id}">0</td>
                    `).join("")}
                </tr>
            `);
        </script>
    </table>
</div>
	<div class="Gr-item4"><button class="calcbut" onclick="CalcOpt()">Calculate my station</button></div>
	<div class="Gr-item5">Sunlight (%):</div><div class="Gr-item6"><input class="InpStr" type="text" id="ExtrOpt1" placeholder="Not functional" value="100"></div>
	<div class="Gr-item7">Effeciency (%):</div><div class="Gr-item8"><input class="InpStr" type="checkbox" id="ExtrOpt2"></div>
	<div class="Gr-item9">Option:</div><div class="Gr-item10"><input class="InpStr" type="text" id="ExtrOpt3" placeholder="Not functional" value="Not used! Placeholder"></div>
	<div class="Gr-item11"><label for="StringID">Code:</label><input class="InpStr" type="text" id="StringID" placeholder="This code holds all your station data"></div>
    <div class="Gr-item12"><button class="calcbut" onclick="Save()">Export</button></div><div class="Gr-item13"><button class="calcbut" onclick="Load()">Import</button></div>
	<div class="Gr-item14"><u>Population</u>: Every population roughly uses food 2,25 and 1.35 Meds. Sith use 1,65 cloning vats. I do the math, then round down the number so you always get enough.<br>
	<u>Effeciency</u>: This works and is about 99,5% accurate. Example: Ingame graphene shows a maximum effeciency of "146%". The game outputs 6300, but the math i came up with gave me 6307.<br>
	<u>Resources</u>: The calculation is done assuming the station is fed the maximum resources it can handle. (this makes scrap a bit in accurate)<br>
	<u><b>IMPORTANT</b></u> This calculator is written entirely in javascript and html since i have no acces to the database by the discord user <u>redisia</u>. I made it from scratch, :) So notes or comments... you know where to find me.</div>
</div>
</body>
</html>