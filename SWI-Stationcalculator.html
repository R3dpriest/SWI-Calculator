<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript" src="Calc-Scripts.js" defer></script>
	<script type="text/javascript" src="Array-DB.js"></script>
	<link rel="stylesheet" type="text/css" href="Calc-Style.css">
    <title>Station Calculator v1.05</title>
</head>
<body>
<div class="Calc-Container">
	<div class="Gr-item1"><h1>Station calculator - v1.05</h1></div><div class="Gr-item2">
		<div class="Options-Container">
			<div class="Gr-Opt-Ba">Display options: (Needs work... i know, but somewhat works)</div>
			<div class="Gr-Opt-Co">Resources</div>
			<div class="Gr-Opt-C1"><label for="Gr-Opt-C1" onclick="Display('R-T1', 'Gr-Opt-C1', 'C');">Tier 1:<input type="checkbox" id="Gr-Opt-C1" CHECKED></label></div>
			<div class="Gr-Opt-C2"><label for="Gr-Opt-C2" onclick="Display('R-T2', 'Gr-Opt-C2', 'C');">Tier 2:<input type="checkbox" id="Gr-Opt-C2" CHECKED></label></div>
			<div class="Gr-Opt-C3"><label for="Gr-Opt-C3" onclick="Display('R-T3', 'Gr-Opt-C3', 'C');">Tier 3:<input type="checkbox" id="Gr-Opt-C3" CHECKED></label></div>
			<div class="Gr-Opt-So"><label for="Gr-Opt-So" onclick="Display('R-Solid', 'Gr-Opt-So', 'C');">Solids:<input type="checkbox" id="Gr-Opt-So" CHECKED></label></div>
			<div class="Gr-Opt-Li"><label for="Gr-Opt-Li" onclick="Display('R-Liquid', 'Gr-Opt-Li', 'C');">Liquids:<input type="checkbox" id="Gr-Opt-Li" CHECKED></label></div>
			
			<div class="Gr-Opt-Ro">Modules</div>
			<div class="Gr-Opt-R1"><label for="Gr-Opt-R1" onclick="Display('M-T1', 'Gr-Opt-R1', 'R');">Tier 1:<input type="checkbox" id="Gr-Opt-R1" CHECKED></label></div>
			<div class="Gr-Opt-R2"><label for="Gr-Opt-R2" onclick="Display('M-T2', 'Gr-Opt-R2', 'R');">Tier 2:<input type="checkbox" id="Gr-Opt-R2" CHECKED></label></div>
			<div class="Gr-Opt-R3"><label for="Gr-Opt-R3" onclick="Display('M-T3', 'Gr-Opt-R3', 'R');">Tier 3:<input type="checkbox" id="Gr-Opt-R3" CHECKED></label></div>
			
			<div class="Gr-Opt-Eo">General</div>
			<div class="Gr-Opt-Po"><label for="Gr-Opt-Po" onclick="Display('R-Pop', 'Gr-Opt-Po', 'B');">Population:<input type="checkbox" id="Gr-Opt-Po" CHECKED></label></div>
			<div class="Gr-Opt-Si"><label for="Gr-Opt-Si" onclick="Display('R-Sith', 'Gr-Opt-Si', 'B');">Sith:<input type="checkbox" id="Gr-Opt-Si" CHECKED></label></div>
		</div>
	</div>
    <div class="Gr-item3">
    <table id="managementTable">
        <tr>
            <td class="R-General">Building Name</td>
            <td class="R-General">Input</td>
            <script>
                document.write(resources.map(resource => `<td class="${resource.style} ${resource.Tier}">${resource.name}</td>`).join(""));
            </script>
        </tr>
        <script>
            modules.forEach(module => {
                document.write(`
                    <tr class="${module.Tier} ${module.Style}">
                        <td>${module.name}</td>
                        <td>
                            <input class="SWI_Manual" type="number" id="moduleInput_${module.name}${module.Style}" value="${module.inputMultiplier}">
                        </td>
                        ${resources.map(resource => {
                            if (resource.id === module.resource1) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource2) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource3) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource4) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.resource5) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="input_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.outputResource1) {
                                return `<td class="${resource.style}-mo ${resource.Tier} ${module.Tier}" id="output_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.outputResource2) {
                                return `<td class="${resource.style}-mo ${resource.Tier} ${module.Tier}" id="output_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            } else if (resource.id === module.Race) {
                                return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="output_${module.name}${module.Style}_res${resource.id}">0</td>`;
                            }
                            return `<td class="${resource.style}-m ${resource.Tier} ${module.Tier}" id="empty_${module.name}${module.Style}_res${resource.id}"></td>`;
                        }).join("")}
                    </tr>
                `);
            });

            document.write(`
                <tr>
                    <td class="R-General"><b>Total</b></td>
                    <td class="R-General"></td>
                    ${resources.map(resource => `
                        <td class="${resource.style} ${resource.Tier}" id="total_${resource.id}">0</td>
                    `).join("")}
                </tr>
            `);
        </script>
    </table>
</div>
	<div class="Gr-item4"><button class="calcbut" onclick="CalcOpt()">Calculate my station</button></div>
	<div class="Gr-item5">Sunlight (%):</div><div class="Gr-item6"><input class="InpStr" type="text" id="ExtrOpt1" placeholder="Not functional" value="100"></div>
	<div class="Gr-item7">Effeciency (%):</div><div class="Gr-item8"><input class="InpStr" type="checkbox" id="ExtrOpt2"></div>
	<div class="Gr-item9">Option:</div><div class="Gr-item10"><input class="InpStr" type="text" id="ExtrOpt3" placeholder="Not functional" value="Not used! Placeholder"></div>
	<div class="Gr-item11"><label for="StringID">Code:</label><input class="InpStr" type="text" id="StringID" placeholder="This code holds all your station data"></div>
    <div class="Gr-item12"><button class="calcbut" onclick="Save()">Export</button></div><div class="Gr-item13"><button class="calcbut" onclick="Load()">Import</button></div>
	<div class="Gr-item14"><u>Population</u>: Every population roughly uses food 2,25 and 1.35 Meds. Sith use 1,65 cloning vats. I do the math, then round down the number so you always get enough.<br>
	<u>Effeciency</u>: This works and is about 99,5% accurate. Example: Ingame graphene shows a maximum effeciency of "146%". The game outputs 6300, but the math i came up with gave me 6307.<br>
	<u>Resources</u>: The calculation is done assuming the station is fed the maximum resources it can handle. (this makes scrap a bit in accurate)<br>
	<u><b>IMPORTANT</b></u>: This is written in CSS, JS, HTML and needs <b>javascript</b> to work. If there is any wrong value or bug you can let me (Redisia) on discord know.</div>
</div>
</body>
</html>